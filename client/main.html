<head>
  <title>x3dom-meteorJS</title>
</head>

<body>
  {{> counter}}
  {{> x3dom}}
</body>


<template name="counter">
  <h1>box count: {{counter}}</h1>
</template>

<template name="x3dom">
  <x3d>
    <scene>
      <navigationinfo type="EXAMINE"></navigationinfo>
      <viewpoint position="8 12 20" orientation="-0.55 0.50 0 0.65"></viewpoint>
      <transform rotation="-1.5707 0 0 1.5707">
        <shape>
          <appearance>
            <material diffuseColor="#32CD32">
            </material>
          </appearance>
          <plane size="18 18"></plane>
        </shape>
      </transform>
      {{#each boxes}}
      <transform translation="{{x}} {{y}} {{z}}">
        <shape id="{{_id}}">
          <appearance>
            <material diffuseColor="{{color}}" ambientIntensity="0.1"></material>
          </appearance>
          <box size="1 1 1"></box>
        </shape>
      </transform>
      {{/each}}
    </scene>
  </x3d>
</template>